(this["webpackJsonpsecond-task"]=this["webpackJsonpsecond-task"]||[]).push([[0],[,,,,function(e,t,a){e.exports={card:"style_card__3-Qji",headerWrapper:"style_headerWrapper__aJHD2",contentRow:"style_contentRow__3atAh",content:"style_content__vzU7I",image:"style_image__3dT1F",params:"style_params__1hvtD",mainParams:"style_mainParams__ewQsW",secondaryParams:"style_secondaryParams__JrJp7",paramsItem:"style_paramsItem__1Kgt8",description:"style_description__2w5yO"}},,,,,function(e,t,a){e.exports={select:"style_select__SSi00",active:"style_active__2ATw3",selectInput:"style_selectInput__1jsvD",selectDropdown:"style_selectDropdown__PXfrq",selectSearch:"style_selectSearch__28NG7",selectList:"style_selectList__PEziK",selectItem:"style_selectItem__3ylIK",button:"style_button__2dhm0",activeButton:"style_activeButton__kPYzz"}},,,,function(e,t,a){e.exports={categories:"style_categories__3Bvn9",header:"style_header__1Bbz6",aside:"style_aside__24MA-",contentWrapper:"style_contentWrapper__2YQOO",content:"style_content__-qyxJ",asideRow:"style_asideRow__3r2g9"}},,function(e,t,a){e.exports={form:"style_form__2_OVs",row:"style_row__1Rf0M",buttonWrap:"style_buttonWrap__2K26G",link:"style_link__ApLHD"}},function(e,t,a){e.exports={pokemon:"style_pokemon__295Ft",image:"style_image__1oS8E",name:"style_name__1JtxO",link:"style_link__1bZ1U"}},,,,,function(e,t,a){e.exports={label:"style_label__Oz9c3",title:"style_title__6raTd",input:"style_input__4-FVI",message:"style_message__1-SiV"}},function(e,t,a){e.exports={form:"style_form__GVY6t",row:"style_row__kICVi",buttonWrap:"style_buttonWrap__2MrGH",link:"style_link__AEjRH"}},,,,,,function(e,t,a){e.exports={header:"style_header__3_cQf",headerLogut:"style_headerLogut__9yXkt",link:"style_link__2spVX"}},,,,,,,,,,,function(e,t,a){e.exports={mainLayout:"style_mainLayout__2Qxav"}},function(e,t,a){e.exports={button:"style_button__2r0r9"}},function(e,t,a){e.exports={contentLayout:"style_contentLayout__3AhP0"}},function(e,t,a){e.exports={button:"style_button__1TlsE"}},function(e,t,a){e.exports={loader:"style_loader__13fgc","lds-ring":"style_lds-ring__YFace"}},function(e,t,a){e.exports={message:"style_message__1Sxsh"}},,function(e,t,a){e.exports=a(58)},,,,,function(e,t,a){},,,,,,,function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(36),c=a.n(r),l=a(7),o=(a(51),a(14)),i=a.n(o),m=a(23),u=a(1),p=a(2),_=a(10),d="https://api.pokemontcg.io/v1/",E=Object(n.createContext)([]);var y=function(e){var t=e.children,a={pokemons:[],types:[],subtypes:[],typesValue:"",subtypesValue:"",isLoading:!1,pokemon:null},r=Object(n.useReducer)((function(e,t){var n=t.type,s=t.payload;switch(n){case"SET_POKEMONS":return Object(_.a)({},e,{pokemons:s});case"SET_POKEMONS_TYPES":return Object(_.a)({},e,{types:s});case"SET_POKEMONS_SUBTYPES":return Object(_.a)({},e,{subtypes:s});case"SET_TYPES_VALUE":return Object(_.a)({},e,{typesValue:s});case"SET_SUBTYPES_VALUE":return Object(_.a)({},e,{subtypesValue:s});case"SET_LOADING":return Object(_.a)({},e,{isLoading:s});case"SET_POKEMON":return Object(_.a)({},e,{pokemon:s});case"CLEAR_STATE":return a;default:return e}}),a),c=Object(u.a)(r,2),l=c[0],o=c[1];return s.a.createElement(E.Provider,{value:[l,o]},t)},v=Object(n.createContext)();var f=function(e){var t=e.children,a=Object(n.useReducer)((function(e,t){var a=t.type,n=t.payload;switch(a){case"SET_AUTH":return Object(_.a)({},e,{isLoggedIn:n});default:return e}}),{isLoggedIn:!1,users:[{login:"kode@kode.ru",password:"Enk0deng"}]}),r=Object(u.a)(a,2),c=r[0],l=r[1];return s.a.createElement(v.Provider,{value:[c,l]},t)},b=a(27),h=a(15),O=a.n(h),g=a(39),N=a.n(g);var j=function(e){var t=e.children;return s.a.createElement("div",{className:N.a.mainLayout},t)},S=a(21),k=a.n(S);var w=function(e){var t=e.title,a=e.name,n=e.type,r=e.placeholder,c=e.inputChangeHandler,l=e.value,o=e.touched,i=e.message;return s.a.createElement("label",{className:k.a.label},s.a.createElement("span",{className:k.a.title},t),s.a.createElement("input",{autoComplete:"off",className:k.a.input,type:n,name:a,value:l,placeholder:r,onInput:c}),o&&i&&s.a.createElement("p",{className:k.a.message},i))},T=a(40),x=a.n(T);var P=function(e){var t=e.clickHandler;return s.a.createElement("button",{className:x.a.button,onClick:t,type:"submit"})},L=function(e){var t=e.name,a=e.password,n={};return t?t.length<4&&(n.name="\u0414\u043b\u0438\u043d\u0430 \u043f\u043e\u043b\u044f \u0434\u043e\u043b\u0436\u043d\u0430 \u0431\u044b\u0442\u044c \u043d\u0435 \u043c\u0435\u043d\u0435\u0435 4 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432, \u0441\u0435\u0439\u0447\u0430\u0441 ".concat(t.length)):n.name="\u042d\u0442\u043e \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435",a?a.length<6&&(n.password="\u0414\u043b\u0438\u043d\u0430 \u043f\u043e\u043b\u044f \u0434\u043e\u043b\u0436\u043d\u0430 \u0431\u044b\u0442\u044c \u043d\u0435 \u043c\u0435\u043d\u0435\u0435 6 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432, \u0441\u0435\u0439\u0447\u0430\u0441 ".concat(a.length)):n.password="\u042d\u0442\u043e \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435",n};var C=function(){var e=Object(p.f)(),t=Object(n.useContext)(v),a=Object(u.a)(t,2),r=a[0].users,c=a[1],o=Object(b.a)({initialValues:{name:"",password:""},validate:L,onSubmit:function(){var t=r.find((function(e){return e.login===d}));t&&t.password===E&&(c({type:"SET_AUTH",payload:!0}),e.push("/"))}}),i=o.handleSubmit,m=o.handleChange,_=o.values,d=_.name,E=_.password,y=o.errors,f=o.touched;return s.a.createElement(j,null,s.a.createElement("form",{method:"POST",action:"/",className:O.a.form,onSubmit:i},s.a.createElement("div",{className:O.a.row},s.a.createElement(w,{title:"Login",name:"name",type:"text",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043b\u043e\u0433\u0438\u043d",value:d,inputChangeHandler:m,touched:f.name,message:y.name})),s.a.createElement("div",{className:O.a.row},s.a.createElement(w,{title:"Password",name:"password",type:"password",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c",value:E,inputChangeHandler:m,touched:f.password,message:y.password})),s.a.createElement("div",{className:O.a.buttonWrap},s.a.createElement(P,null)),s.a.createElement(l.b,{to:"/password-confirmation",className:O.a.link},"\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u043e\u0434\u043d\u043e\u0440\u0430\u0437\u043e\u0432\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c")))},I=a(22),V=a.n(I);var A=function(){var e=Object(p.f)(),t=Object(n.useContext)(v),a=Object(u.a)(t,2)[1],r=Object(n.useState)("1234"),c=Object(u.a)(r,2),o=c[0],i=c[1];Object(n.useEffect)((function(){var e=String(Math.random()).slice(2,2+Math.max(1,Math.min(4)));i(e),alert("\u041f\u0430\u0440\u043e\u043b\u044c: ".concat(e))}),[]);var m=Object(b.a)({initialValues:{password:""},validate:function(e){var t=e.password,a={};return console.log(t,o),t!==o&&(a.password="\u041f\u0430\u0440\u043e\u043b\u0438 \u043d\u0435 \u0441\u043e\u0432\u043f\u0430\u0434\u0430\u044e\u0442"),a},onSubmit:function(){a({type:"SET_AUTH",payload:!0}),e.push("/")}}),_=m.handleSubmit,d=m.handleChange,E=m.values.password,y=m.errors,f=m.touched;return s.a.createElement(j,null,s.a.createElement("form",{method:"POST",action:"/",className:V.a.form,onSubmit:_},s.a.createElement("div",{className:V.a.row},s.a.createElement(w,{title:"Code from SMS",name:"password",type:"text",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0434 \u0438\u0437 \u0421\u041c\u0421",value:E,inputChangeHandler:d,touched:f.password,message:y.password})),s.a.createElement("div",{className:V.a.buttonWrap},s.a.createElement(P,null)),s.a.createElement(l.b,{to:"/login",className:V.a.link},"\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u043b\u043e\u0433\u0438\u043d \u0438 \u043f\u0430\u0440\u043e\u043b\u044c")))},U=a(13),H=a.n(U),M=a(41),R=a.n(M);var W=function(e){var t=e.children;return s.a.createElement("div",{className:R.a.contentLayout},t)},K=a(28),Y=a.n(K),B=a(42),D=a.n(B);var F=function(e){var t=e.children,a=e.clickHandler;return s.a.createElement("button",{onClick:a,className:D.a.button},t)};var G=function(){var e=Object(n.useContext)(v),t=Object(u.a)(e,2)[1],a=Object(n.useContext)(E),r=Object(u.a)(a,2)[1];return s.a.createElement("header",{className:Y.a.header},s.a.createElement(p.c,null,s.a.createElement(p.a,{path:"/card-page"},s.a.createElement(l.b,{className:Y.a.link,to:"/"},"< Back"))),s.a.createElement("div",{className:Y.a.headerLogut},s.a.createElement(F,{clickHandler:function(){t({type:"SET_AUTH",payload:!1}),r({type:"CLEAR_STATE"})}},"Logout")))},J=a(45),z=a(9),Q=a.n(z);var X=function(e){var t=e.name,a=e.list,r=e.setTypesValue,c=e.value,l=void 0===c?"":c,o=Object(n.useState)(!1),i=Object(u.a)(o,2),m=i[0],p=i[1],_=Object(n.useState)([Q.a.select]),d=Object(u.a)(_,2),E=d[0],y=d[1],v=Object(n.useState)(a),f=Object(u.a)(v,2),b=f[0],h=f[1],O=function(e){var t=[Q.a.button];return l===e&&t.push(Q.a.activeButton),t.join(" ")};return Object(n.useEffect)((function(){h(a)}),[a]),s.a.createElement("div",{className:E.join(" ")},s.a.createElement("div",{className:Q.a.selectInput,onClick:function(){p(!m),-1!==E.indexOf(Q.a.active)?y(E.filter((function(e){return e!==Q.a.active}))):y([].concat(Object(J.a)(E),[Q.a.active]))}},l||t),m&&s.a.createElement("div",{className:Q.a.selectDropdown},s.a.createElement("input",{type:"text",className:Q.a.selectSearch,placeholder:"Type something...",onInput:function(e){var t=a.filter((function(t){return t.toLowerCase().includes(e.target.value.trim().toLowerCase())}));h(t)}}),s.a.createElement("ul",{className:Q.a.selectList},b.map((function(e){return s.a.createElement("li",{key:e,className:Q.a.selectItem},s.a.createElement("button",{className:O(e),onClick:function(){r({filter:t,value:e})},type:"button"},e))})))))},q=a(43),Z=a.n(q);var $=function(){return s.a.createElement("div",{className:Z.a.loader},s.a.createElement("div",null),s.a.createElement("div",null),s.a.createElement("div",null),s.a.createElement("div",null))},ee=a(16),te=a.n(ee);var ae=function(e){var t=e.id,a=e.image,n=e.name,r=e.artist,c=e.setPokemonPreview;return s.a.createElement("article",{onClick:function(){return c(t)},className:te.a.pokemon},s.a.createElement(l.b,{className:te.a.link,to:"/card-page"},s.a.createElement("img",{className:te.a.image,src:a,alt:n}),s.a.createElement("p",{className:te.a.name},n),s.a.createElement("p",{className:te.a.artist},r)))},ne=a(44),se=a.n(ne);var re=function(e){var t=e.children;return s.a.createElement("p",{className:se.a.message},t)};var ce=function(e){var t=e.setTypesValue,a=Object(n.useContext)(E),r=Object(u.a)(a,2),c=r[0],l=c.pokemons,o=c.types,p=c.subtypes,_=c.isLoading,y=c.typesValue,v=c.subtypesValue,f=r[1];Object(n.useEffect)((function(){function e(){return(e=Object(m.a)(i.a.mark((function e(){var t,a,n,s,r,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(d,"types"));case 2:return t=e.sent,e.next=5,t.json();case 5:return a=e.sent,n=a.types,f({type:"SET_POKEMONS_TYPES",payload:n}),e.next=10,fetch("".concat(d,"subtypes"));case 10:return s=e.sent,e.next=13,s.json();case 13:r=e.sent,c=r.subtypes,f({type:"SET_POKEMONS_SUBTYPES",payload:c});case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[f]);var b=function(e){var t=l.find((function(t){return t.id===e}));console.log(t),f({type:"SET_POKEMON",payload:t})};return s.a.createElement(W,null,s.a.createElement("div",{className:H.a.categories},s.a.createElement("div",{className:H.a.header},s.a.createElement(G,null)),s.a.createElement("aside",{className:H.a.aside},s.a.createElement("div",{className:H.a.asideRow},s.a.createElement(X,{name:"Type",list:o,setTypesValue:t,value:y})),s.a.createElement("div",{className:H.a.asideRow},s.a.createElement(X,{name:"Subtype",list:p,setTypesValue:t,value:v}))),s.a.createElement("div",{className:H.a.contentWrapper},_?s.a.createElement($,null):l.length?s.a.createElement("section",{className:H.a.content},l.map((function(e,t){var a=e.id,n=e.imageUrl,r=e.name,c=e.artist;return s.a.createElement(ae,{key:a+t,id:a,image:n,name:r,artist:c,setPokemonPreview:b})}))):s.a.createElement(re,null,"\u041f\u043e\u043a\u0435\u043c\u043e\u043d\u0430 \u0441 \u0442\u0430\u043a\u0438\u043c \u0441\u043e\u0447\u0435\u0442\u0430\u043d\u0438\u0435\u043c \u0442\u0438\u043f\u0430 \u0438 \u043f\u043e\u0434\u0442\u0438\u043f\u0430 \u043d\u0435\u0442"))))},le=a(4),oe=a.n(le);var ie=function(){var e=Object(n.useContext)(E),t=Object(u.a)(e,1)[0].pokemon,a=Object(p.f)();return Object(n.useEffect)((function(){t||a.push("/")}),[t,a]),s.a.createElement(W,null,t&&s.a.createElement("div",{className:oe.a.card},s.a.createElement("div",{className:oe.a.headerWrapper},s.a.createElement(G,null)),s.a.createElement("div",{className:oe.a.content},s.a.createElement("div",{className:oe.a.contentRow},s.a.createElement("img",{className:oe.a.image,src:t.imageUrlHiRes,alt:t.name}),s.a.createElement("div",{className:oe.a.params},s.a.createElement("ul",{className:oe.a.mainParams},s.a.createElement("li",{className:oe.a.paramsItem},"Pokemon name: ",t.name),t.types&&s.a.createElement("li",{className:oe.a.paramsItem},"Type: ",t.types.join(" ")),s.a.createElement("li",{className:oe.a.paramsItem},"SubType: ",t.subtype)),s.a.createElement("ul",{className:oe.a.secondaryParams},t.attacks&&s.a.createElement("li",{className:oe.a.paramsItem},"attackDamage: ",t.attacks.map((function(e){return e.damage})).join(", ")),t.attacks&&s.a.createElement("li",{className:oe.a.paramsItem},"attackCost: ",t.attacks.map((function(e){return e.cost.join(", ")})).join(", ")),t.resistances&&s.a.createElement("li",{className:oe.a.paramsItem},"resistances: ",t.resistances.map((function(e){return e.type})).join(", ")),t.evolvesFrom&&s.a.createElement("li",{className:oe.a.paramsItem},"evolvesFrom: ",t.evolvesFrom)))),t.attacks&&s.a.createElement("div",{className:oe.a.description},t.attacks.map((function(e){return e.text})).join(" ")))))};var me=function(){var e=Object(p.f)(),t=Object(n.useContext)(E),a=Object(u.a)(t,2),r=a[0],c=r.typesValue,l=r.subtypesValue,o=a[1],_=Object(n.useContext)(v),y=Object(u.a)(_,1)[0].isLoggedIn;return Object(n.useEffect)((function(){y?function(){var e=Object(m.a)(i.a.mark((function e(){var t,a,n,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=function(){var e="".concat(d,"cards/?page=1");return c&&(e+="&types=".concat(c)),l&&(e+="&subtype=".concat(l)),e},o({type:"SET_LOADING",payload:!0}),e.next=4,fetch(t());case 4:return a=e.sent,e.next=7,a.json();case 7:n=e.sent,s=n.cards,o({type:"SET_LOADING",payload:!1}),o({type:"SET_POKEMONS",payload:s});case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()():e.push("/login")}),[c,l,y,e,o]),s.a.createElement("div",{className:"App"},s.a.createElement(p.c,null,s.a.createElement(p.a,{path:"/login",component:C}),s.a.createElement(p.a,{path:"/password-confirmation",component:A}),s.a.createElement(p.a,{path:"/",exact:!0},s.a.createElement(ce,{pokemonApiUrl:d,dispatch:o,setTypesValue:function(e){var t=e.filter,a=e.value;"Type"===t?o({type:"SET_TYPES_VALUE",payload:a}):"Subtype"===t&&o({type:"SET_SUBTYPES_VALUE",payload:a})}})),s.a.createElement(p.a,{path:"/card-page",component:ie})))};c.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(l.a,null,s.a.createElement(f,null,s.a.createElement(y,null,s.a.createElement(me,null))))),document.getElementById("root"))}],[[46,1,2]]]);
//# sourceMappingURL=main.8d6dc296.chunk.js.map